---
phase: planning
title: –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ - –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ React Native + Expo
description: –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –∑–∞–¥–∞—á, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
last_updated: 2025-12-17
---

# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (–§–∞–∑–∞ 3 –∑–∞–≤–µ—Ä—à–µ–Ω–∞)

**–ü—Ä–æ–≥—Ä–µ—Å—Å:** 4 –∏–∑ 8 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∑–∞–¥–∞—á –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (50%)

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 17 –¥–µ–∫–∞–±—Ä—è 2025

## –û–±–∑–æ—Ä

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω–æ–µ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è iOS –∏ Android —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º core-—Å–ª–æ—è

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 4-6 –Ω–µ–¥–µ–ª—å (1 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MVP —Å–Ω–∞—á–∞–ª–∞, –ø–æ—Ç–æ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Expo –ø—Ä–æ–µ–∫—Ç–∞ —Å TypeScript
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ metro.config.js –∏ babel.config.js
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è NativeWind v4 + Tailwind CSS
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TypeScript paths –¥–ª—è @core/* –∏ @ui/mobile/*
- ‚úÖ ESLint –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å globals –¥–ª—è React Native
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

### –§–∞–∑–∞ 2: –ê–¥–∞–ø—Ç–µ—Ä—ã –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- ‚úÖ Storage Adapter (AsyncStorage + SecureStore)
- ‚úÖ OAuth Adapter (expo-web-browser)
- ‚úÖ Navigation Adapter (expo-router)
- ‚úÖ Supabase Client Factory –¥–ª—è mobile
- ‚úÖ SupabaseProvider —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–µ—Å—Å–∏–µ–π
- ‚úÖ –•—É–∫–∏ useSupabase() –∏ useAuth()

### –§–∞–∑–∞ 3: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û  
- ‚úÖ –≠–∫—Ä–∞–Ω –ª–æ–≥–∏–Ω–∞ —Å Google OAuth
- ‚úÖ Callback —ç–∫—Ä–∞–Ω –¥–ª—è OAuth redirect
- ‚úÖ Navigation guard –¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Ä–æ—É—Ç–æ–≤
- ‚úÖ Deep linking scheme (everfreenote://)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –≤ SecureStore

### –§–∞–∑–∞ 4: –°–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫ ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- ‚úÖ –•—É–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–º–µ—Ç–∫–∞–º–∏ (useNotes, useCreateNote, useUpdateNote, useDeleteNote)
- ‚úÖ FlashList –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
- ‚úÖ Pull-to-refresh —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚úÖ Loading, Error –∏ Empty states
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫ –¥–µ—Ç–∞–ª—è–º –∑–∞–º–µ—Ç–∫–∏
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç —Å date-fns
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å core/services/notes
- ‚úÖ –§–∏–ª—å—Ç—Ä –ø–æ user_id –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö

## üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

### –§–∞–∑–∞ 5: –†–µ–¥–∞–∫—Ç–æ—Ä –∑–∞–º–µ—Ç–æ–∫
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
**–û—Ü–µ–Ω–∫–∞:** 2-3 –¥–Ω—è
 
**–ü–ª–∞–Ω:**
- [x] –°–æ–∑–¥–∞—Ç—å WebView –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è TipTap —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ (EditorWebView.tsx)
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–≤—É—Ö—Å—Ç–æ—Ä–æ–Ω–Ω—é—é –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é (postMessage: SET_CONTENT, GET_CONTENT, COMMAND)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (debounced updateNote)
- [x] –î–æ–±–∞–≤–∏—Ç—å —Ç—É–ª–±–∞—Ä —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–∞—Ç–∏–≤–Ω—ã–π EditorToolbar)
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—á–µ—Ä–µ–∑ useNote/useUpdateNote)

## üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

## –§–∞–∑—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```mermaid
gantt
    title –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    dateFormat  YYYY-MM-DD
    section –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
    –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞           :p1, 2025-12-16, 2d
    –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö –∞–¥–∞–ø—Ç–µ—Ä–æ–≤  :p2, after p1, 2d
    –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤       :p3, after p2, 1d
    
    section –§–∞–∑–∞ 2: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    OAuth flow                  :a1, after p3, 3d
    Deep linking                :a2, after a1, 2d
    Secure storage              :a3, after a2, 1d
    
    section –§–∞–∑–∞ 3: Core UI
    –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã          :u1, after a3, 3d
    –°–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫              :u2, after u1, 2d
    Rich text —Ä–µ–¥–∞–∫—Ç–æ—Ä          :u3, after u2, 3d
    
    section –§–∞–∑–∞ 4: CRUD & Sync
    CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏               :c1, after u3, 2d
    –û—Ñ–ª–∞–π–Ω —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è        :c2, after c1, 3d
    Realtime updates            :c3, after c2, 2d
    
    section –§–∞–∑–∞ 5: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
### –§–∞–∑–∞ 6: –û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
**–û—Ü–µ–Ω–∫–∞:** 3-4 –¥–Ω—è

**–ü–ª–∞–Ω:**
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è expo-sqlite —Å FTS5 (DatabaseService.ts)
- [x] –ê–¥–∞–ø—Ç–∞—Ü–∏—è core/services/offlineSyncManager –¥–ª—è mobile (MobileSyncService.ts)
- [x] –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ç–∏ (–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ NetInfo)
- [x] Conflict resolution —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (compactQueue)
- [x] UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã offline/online (–ë–∞–Ω–Ω–µ—Ä –≤ TabsLayout)

### –§–∞–∑–∞ 7: –ü–æ–∏—Å–∫ –∑–∞–º–µ—Ç–æ–∫ (FTS)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
**–û—Ü–µ–Ω–∫–∞:** 2 –¥–Ω—è

**–ü–ª–∞–Ω:**
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è core/services/search —Å SQLite FTS5 (useSearch.ts)
- [x] –≠–∫—Ä–∞–Ω –ø–æ–∏—Å–∫–∞ —Å –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–æ–º (app/(tabs)/search.tsx)
- [x] –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ (Snippet –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö)
- [x] –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –§–∞–∑–∞ 8: Deep Linking –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
**–û—Ü–µ–Ω–∫–∞:** 1-2 –¥–Ω—è

**–ü–ª–∞–Ω:**
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ expo-linking –¥–ª—è –ø—Ä—è–º—ã—Ö —Å—Å—ã–ª–æ–∫ –Ω–∞ –∑–∞–º–µ—Ç–∫–∏
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö deep links
- [x] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ OAuth callback —á–µ—Ä–µ–∑ deep links
- [x] –§–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞ UI/UX

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

| –§–∞–∑–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≥—Ä–µ—Å—Å | –û—Ü–µ–Ω–∫–∞ | –ó–∞—Ç—Ä–∞—á–µ–Ω–æ |
|------|--------|----------|--------|-----------|
| 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | 100% | 5 –¥–Ω–µ–π | ~1 –¥–µ–Ω—å |
| 2. –ê–¥–∞–ø—Ç–µ—Ä—ã –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | 100% | 3 –¥–Ω—è | ~1 –¥–µ–Ω—å |
| 3. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | 100% | 3 –¥–Ω—è | ~1 –¥–µ–Ω—å |
| 4. –°–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | 100% | 2 –¥–Ω—è | ~0.5 –¥–Ω—è |
| 5. –†–µ–¥–∞–∫—Ç–æ—Ä –∑–∞–º–µ—Ç–æ–∫ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | 100% | 3 –¥–Ω—è | ~1 –¥–µ–Ω—å |
| 6. –û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | 100% | 4 –¥–Ω—è | ~1 –¥–µ–Ω—å |
| 7. –ü–æ–∏—Å–∫ (FTS) | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | 100% | 2 –¥–Ω—è | ~0.5 –¥–Ω—è |
| 8. Deep Linking | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | 100% | 2 –¥–Ω—è | ~0.5 –¥–Ω—è |
| **–ò–¢–û–ì–û** | **‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ** | **100%** | **24 –¥–Ω—è** | **~6.5 –¥–Ω—è** |

## üéØ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è

### ‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Expo –ø—Ä–æ–µ–∫—Ç —Å SDK 54
- NativeWind v4 –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ (Tailwind CSS)
- TypeScript —Å —Å—Ç—Ä–æ–≥–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏ path aliases
- ESLint —Å –Ω—É–ª–µ–≤—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏
- Metro bundler —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CSS

### ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ß–∏—Å—Ç–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ adapters/providers/hooks/components
- 100% –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ core-—Å–ª–æ—è (services, types)
- –ê–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è –≤—Å–µ—Ö platform-specific API
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è OAuth –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Google
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –≤ device keychain
- –ó–∞—â–∏—Ç–∞ —Ä–æ—É—Ç–æ–≤ —Å navigation guards
- –°–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫ —Å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–µ–π (FlashList)
- Pull-to-refresh –∏ loading states
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Supabase —á–µ—Ä–µ–∑ core/services

### ‚úÖ Code Quality
- TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞: 0 –æ—à–∏–±–æ–∫
- ESLint: 0 –æ—à–∏–±–æ–∫, 0 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- Proper error handling
- Responsive UI —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ spacing/shadows

## üìù –î–µ—Ç–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### 17 –¥–µ–∫–∞–±—Ä—è 2025

**–ó–∞–≤–µ—Ä—à–µ–Ω–æ:**
1. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ hooks/useNotes.ts —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π TanStack Query
2. ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è FlashList –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–ª—è —Å–ø–∏—Å–∫–∞ –∑–∞–º–µ—Ç–æ–∫
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ pull-to-refresh —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
4. ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Loading/Error/Empty states
5. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ date-fns –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
6. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ user_id –≤ core/services/notes
7. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è EXPO_PUBLIC_*
8. ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:**
- FlashList v2 –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `estimatedItemSize` - —É–¥–∞–ª–µ–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ EXPO_PUBLIC_* –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö - –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ .env
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ user_id - –¥–æ–±–∞–≤–ª–µ–Ω `.eq('user_id', userId)` –≤ –∑–∞–ø—Ä–æ—Å

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
- –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞–¥ WebView —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º –¥–ª—è –∑–∞–º–µ—Ç–æ–∫
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å bridge –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ —Å TipTap

---

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–∞—Ä—Ö–∏–≤)

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π Expo –ø—Ä–æ–µ–∫—Ç —Å TypeScript
   ```bash
   npx create-expo-app mobile --template
   cd mobile
   ```

2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `app.json`
   ```json
   {
     "expo": {
       "name": "EverFreeNote",
       "slug": "everfreenote",
       "scheme": "everfreenote",
       "version": "0.1.0",
       "orientation": "portrait",
       "icon": "./assets/icon.png",
       "splash": {
         "image": "./assets/splash.png",
         "resizeMode": "contain",
         "backgroundColor": "#ffffff"
       },
       "ios": {
         "bundleIdentifier": "com.everfreenote.app",
         "supportsTablet": false,
         "infoPlist": {
           "UIBackgroundModes": ["remote-notification"]
         }
       },
       "android": {
         "package": "com.everfreenote.app",
         "adaptiveIcon": {
           "foregroundImage": "./assets/adaptive-icon.png",
           "backgroundColor": "#ffffff"
         },
         "permissions": [
           "android.permission.INTERNET",
           "android.permission.ACCESS_NETWORK_STATE"
         ]
       },
       "plugins": [
         "expo-router",
         "expo-secure-store",
         "expo-web-browser"
       ]
     }
   }
   ```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   ```bash
   # Core dependencies
   npm install expo-router expo-web-browser expo-linking expo-secure-store
   npm install @react-native-async-storage/async-storage
   npm install expo-sqlite
   npm install @tanstack/react-query
   npm install @supabase/supabase-js
   
   # UI dependencies
   npm install nativewind
   npm install tailwindcss
   npm install lucide-react-native
   npm install react-native-webview
   npm install @shopify/flash-list
   npm install react-native-reanimated
   npm install react-native-gesture-handler
   
   # Network & offline
   npm install @react-native-community/netinfo
   
   # Dev dependencies
   npm install --save-dev @types/react @types/react-native
   ```

4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å TypeScript paths –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ core
   ```json
   // tsconfig.json
   {
     "extends": "expo/tsconfig.base",
     "compilerOptions": {
       "strict": true,
       "baseUrl": ".",
       "paths": {
         "@/*": ["./*"],
         "@core/*": ["../core/*"],
         "@ui/mobile/*": ["./components/*"]
       }
     }
   }
   ```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ TypeScript –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å paths –¥–ª—è core
- ‚úÖ `npm run start` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

### –ó–∞–¥–∞—á–∞ 1.2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Expo Router
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞:** 3 —á–∞—Å–∞  
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–∞

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫
   ```
   mobile/
   ‚îú‚îÄ‚îÄ app/
   ‚îÇ   ‚îú‚îÄ‚îÄ (auth)/
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _layout.tsx
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.tsx
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ callback.tsx
   ‚îÇ   ‚îú‚îÄ‚îÄ (tabs)/
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _layout.tsx
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search.tsx
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ profile.tsx
   ‚îÇ   ‚îú‚îÄ‚îÄ note/
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [id].tsx
   ‚îÇ   ‚îú‚îÄ‚îÄ _layout.tsx
   ‚îÇ   ‚îî‚îÄ‚îÄ +not-found.tsx
   ```

2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Root Layout
   ```typescript
   // app/_layout.tsx
   import { Slot } from 'expo-router'
   import { SupabaseProvider } from '@/providers/SupabaseProvider'
   import { QueryProvider } from '@/providers/QueryProvider'
   
   export default function RootLayout() {
     return (
       <SupabaseProvider>
         <QueryProvider>
           <Slot />
         </QueryProvider>
       </SupabaseProvider>
     )
   }
   ```

3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å navigation guard –¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Ä–æ—É—Ç–æ–≤
   ```typescript
   // app/(tabs)/_layout.tsx
   import { Redirect, Tabs } from 'expo-router'
   import { useAuth } from '@/hooks/useAuth'
   
   export default function TabsLayout() {
     const { user, loading } = useAuth()
     
     if (loading) return <LoadingScreen />
     if (!user) return <Redirect href="/(auth)/login" />
     
     return <Tabs>{/* ... */}</Tabs>
   }
   ```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ File-based routing —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Navigation guard –∑–∞—â–∏—â–∞–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ä–æ—É—Ç—ã
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

---

### –ó–∞–¥–∞—á–∞ 1.3: –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–∞–ø—Ç–µ—Ä–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞:** 6 —á–∞—Å–æ–≤  
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–∞

**–ü–æ–¥–∑–∞–¥–∞—á–∏:**

#### 1.3.1: Storage Adapter (AsyncStorage)
```typescript
// mobile/adapters/storage.ts
import AsyncStorage from '@react-native-async-storage/async-storage'
import type { StorageAdapter } from '@core/adapters/storage'

export const mobileStorageAdapter: StorageAdapter = {
  async getItem(key: string) {
    try {
      return await AsyncStorage.getItem(key)
    } catch (error) {
      console.error('[Storage] getItem error:', error)
      return null
    }
  },
  
  async setItem(key: string, value: string) {
    try {
      await AsyncStorage.setItem(key, value)
    } catch (error) {
      console.error('[Storage] setItem error:', error)
      if (error.message?.includes('quota')) {
        // –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏
        await this.clearOldCache()
        await AsyncStorage.setItem(key, value)
      }
    }
  },
  
  async removeItem(key: string) {
    await AsyncStorage.removeItem(key)
  },
  
  async clearOldCache() {
    // –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ —Å—Ç–∞—Ä–µ–µ 7 –¥–Ω–µ–π
    const keys = await AsyncStorage.getAllKeys()
    const cacheKeys = keys.filter(k => k.startsWith('cache:'))
    
    for (const key of cacheKeys) {
      const item = await AsyncStorage.getItem(key)
      if (item) {
        const { timestamp } = JSON.parse(item)
        const age = Date.now() - timestamp
        if (age > 7 * 24 * 60 * 60 * 1000) {
          await AsyncStorage.removeItem(key)
        }
      }
    }
  },
}
```

#### 1.3.2: OAuth Adapter (Expo WebBrowser)
```typescript
// mobile/adapters/oauth.ts
import * as WebBrowser from 'expo-web-browser'
import * as Linking from 'expo-linking'
import type { OAuthAdapter } from '@core/adapters/oauth'

WebBrowser.maybeCompleteAuthSession()

export const mobileOAuthAdapter: OAuthAdapter = {
  async startOAuth(authUrl: string) {
    const redirectUrl = Linking.createURL('auth/callback')
    
    const result = await WebBrowser.openAuthSessionAsync(
      authUrl,
      redirectUrl,
      { preferEphemeralSession: true }
    )
    
    if (result.type === 'success') {
      return result.url
    } else if (result.type === 'cancel') {
      throw new Error('OAuth cancelled by user')
    } else {
      throw new Error('OAuth failed')
    }
  },
}
```

#### 1.3.3: Navigation Adapter (Expo Router)
```typescript
// mobile/adapters/navigation.ts
import { router } from 'expo-router'
import type { NavigationAdapter } from '@core/adapters/navigation'

export const mobileNavigationAdapter: NavigationAdapter = {
  navigate(url: string, options?: { replace?: boolean }) {
    if (options?.replace) {
      router.replace(url)
    } else {
      router.push(url)
    }
  },
}
```

#### 1.3.4: Supabase Client
```typescript
// mobile/adapters/supabaseClient.ts
import { createClient } from '@supabase/supabase-js'
import { mobileStorageAdapter } from './storage'

const supabaseUrl = process.env.EXPO_PUBLIC_SUPABASE_URL!
const supabaseAnonKey = process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY!

export const supabase = createClient(supabaseUrl, supabaseAnonKey, {
  auth: {
    storage: mobileStorageAdapter,
    autoRefreshToken: true,
    persistSession: true,
    detectSessionInUrl: false,
  },
})
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ –∞–¥–∞–ø—Ç–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ Storage adapter –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç/—á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
- ‚úÖ OAuth adapter –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä –∏ –ø–æ–ª—É—á–∞–µ—Ç callback
- ‚úÖ Navigation adapter –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —ç–∫—Ä–∞–Ω—ã
- ‚úÖ Supabase client –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å mobile storage

---

### –ó–∞–¥–∞—á–∞ 1.4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞:** 2 —á–∞—Å–∞  
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–∞

```typescript
// mobile/providers/SupabaseProvider.tsx
import { createContext, useContext, useState, useEffect } from 'react'
import { supabase } from '@/adapters/supabaseClient'
import type { User } from '@supabase/supabase-js'

type SupabaseContextType = {
  user: User | null
  loading: boolean
}

const SupabaseContext = createContext<SupabaseContextType>({
  user: null,
  loading: true,
})

export const SupabaseProvider = ({ children }) => {
  const [user, setUser] = useState<User | null>(null)
  const [loading, setLoading] = useState(true)
  
  useEffect(() => {
    // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é
    supabase.auth.getSession().then(({ data: { session } }) => {
      setUser(session?.user ?? null)
      setLoading(false)
    })
    
    // –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è auth
    const { data: { subscription } } = supabase.auth.onAuthStateChange(
      (_event, session) => {
        setUser(session?.user ?? null)
      }
    )
    
    return () => subscription.unsubscribe()
  }, [])
  
  return (
    <SupabaseContext.Provider value={{ user, loading }}>
      {children}
    </SupabaseContext.Provider>
  )
}

export const useSupabase = () => useContext(SupabaseContext)
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ SupabaseProvider –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ QueryProvider –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ ThemeProvider —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## –§–∞–∑–∞ 2: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (6 –¥–Ω–µ–π)

### –ó–∞–¥–∞—á–∞ 2.1: OAuth —á–µ—Ä–µ–∑ Google
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞:** 8 —á–∞—Å–æ–≤  
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–∞

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å login —ç–∫—Ä–∞–Ω
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å OAuth flow
3. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å callback
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –≤ SecureStore

**–§–∞–π–ª—ã:**
- `app/(auth)/login.tsx`
- `app/(auth)/callback.tsx`
- `hooks/useAuth.ts`

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google" —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
- ‚úÖ –¢–æ–∫–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ SecureStore
- ‚úÖ –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è –∑–∞–ª–æ–≥–∏–Ω–µ–Ω

---

### –ó–∞–¥–∞—á–∞ 2.2: Deep Linking
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞:** 6 —á–∞—Å–æ–≤  
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–∞

**–®–∞–≥–∏:**
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ö–µ–º—É `everfreenote://`
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ app.json
3. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å callback URL
4. –î–æ–±–∞–≤–∏—Ç—å –≤ Supabase redirect URL

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ Deep link `everfreenote://auth/callback` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ OAuth —Ä–µ–¥–∏—Ä–µ–∫—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –í production —Ä–∞–±–æ—Ç–∞–µ—Ç universal links

---

## –§–∞–∑–∞ 3: Core UI Components (8 –¥–Ω–µ–π)

### –ó–∞–¥–∞—á–∞ 3.1: –ë–∞–∑–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞:** 8 —á–∞—Å–æ–≤  
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–∞

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**
- Button
- Input
- Card
- Badge (–¥–ª—è —Ç–µ–≥–æ–≤)
- Loading spinner
- Empty state

**–ü—Ä–∏–º–µ—Ä:**
```typescript
// components/ui/Button.tsx
import { Pressable, Text } from 'react-native'
import { styled } from 'nativewind'

const StyledPressable = styled(Pressable)
const StyledText = styled(Text)

export const Button = ({ variant = 'default', onPress, children }) => (
  <StyledPressable
    onPress={onPress}
    className={`rounded-lg px-4 py-3 ${
      variant === 'default' ? 'bg-primary' : 'bg-transparent border'
    }`}
  >
    <StyledText className="text-white font-medium text-center">
      {children}
    </StyledText>
  </StyledPressable>
)
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ NativeWind —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ

---

### –ó–∞–¥–∞—á–∞ 3.2: –°–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫ (–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞:** 6 —á–∞—Å–æ–≤  
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–∞

```typescript
// components/NoteList.tsx
import { FlashList } from '@shopify/flash-list'
import { NoteCard } from './NoteCard'
import type { Note } from '@core/types/domain'

type NoteListProps = {
  notes: Note[]
  onNotePress: (note: Note) => void
  onTagPress: (tag: string) => void
}

export const NoteList = ({ notes, onNotePress, onTagPress }: NoteListProps) => {
  return (
    <FlashList
      data={notes}
      renderItem={({ item }) => (
        <NoteCard
          note={item}
          onPress={() => onNotePress(item)}
          onTagPress={onTagPress}
        />
      )}
      estimatedItemSize={120}
      keyExtractor={(item) => item.id}
    />
  )
}
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ FlashList —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Å–ø–∏—Å–æ–∫
- ‚úÖ –°–∫—Ä–æ–ª–ª –ø–ª–∞–≤–Ω—ã–π (60 FPS)
- ‚úÖ NoteCard –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∑–∞–º–µ—Ç–∫—É –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### –ó–∞–¥–∞—á–∞ 3.3: Rich Text Editor (WebView)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞:** 8 —á–∞—Å–æ–≤  
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:** WebView —Å –ø–æ–ª–Ω—ã–º –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ RichTextEditor

**–ü–æ–¥–∑–∞–¥–∞—á–∏:**

#### 3.3.1: –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è WebView
```typescript
// app/editor-webview/page.tsx
'use client'
import { RichTextEditor } from '@/components/editor/RichTextEditor'
import { useEffect, useState } from 'react'

export default function EditorWebViewPage() {
  const [content, setContent] = useState('')

  useEffect(() => {
    const handleMessage = (event: MessageEvent) => {
      const { type, payload } = event.data
      if (type === 'SET_CONTENT') setContent(payload)
    }
    window.addEventListener('message', handleMessage)
    return () => window.removeEventListener('message', handleMessage)
  }, [])

  const handleChange = (html: string) => {
    if (window.ReactNativeWebView) {
      window.ReactNativeWebView.postMessage(JSON.stringify({
        type: 'CONTENT_CHANGED',
        payload: html
      }))
    }
  }

  return (
    <div className="h-screen w-screen">
      <RichTextEditor initialContent={content} onChange={handleChange} />
    </div>
  )
}
```

#### 3.3.2: –°–æ–∑–¥–∞—Ç—å React Native –æ–±–µ—Ä—Ç–∫—É
```typescript
// mobile/components/EditorWebView.tsx
import WebView from 'react-native-webview'

export const EditorWebView = forwardRef<EditorWebViewHandle, Props>(
  ({ initialContent, onContentChange }, ref) => {
    const webViewRef = useRef<WebView>(null)
    const currentContent = useRef(initialContent)

    useImperativeHandle(ref, () => ({
      setContent(html: string) {
        webViewRef.current?.postMessage(JSON.stringify({
          type: 'SET_CONTENT',
          payload: html
        }))
      },
      getContent() {
        return currentContent.current
      }
    }))

    const handleMessage = (event: any) => {
      const { type, payload } = JSON.parse(event.nativeEvent.data)
      if (type === 'CONTENT_CHANGED') {
        currentContent.current = payload
        onContentChange?.(payload)
      }
    }

    const editorUrl = __DEV__ 
      ? 'http://localhost:3000/editor-webview'
      : 'https://everfreenote.app/editor-webview'

    return (
      <WebView
        ref={webViewRef}
        source={{ uri: editorUrl }}
        onMessage={handleMessage}
        javaScriptEnabled
        domStorageEnabled
      />
    )
  }
)
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –†–µ–¥–∞–∫—Ç–æ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ WebView
- ‚úÖ –í—Å–µ TipTap —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Bridge –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (SET_CONTENT, CONTENT_CHANGED)
- ‚úÖ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–µ–º–ª–µ–º–∞—è (<500ms –∑–∞–≥—Ä—É–∑–∫–∞)

---

## –§–∞–∑–∞ 4: CRUD & Sync (7 –¥–Ω–µ–π)

### –ó–∞–¥–∞—á–∞ 4.1: CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∑–∞–º–µ—Ç–∫–∞–º–∏
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞:** 6 —á–∞—Å–æ–≤  
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π NoteService –∏–∑ core:**

```typescript
// hooks/useNotes.ts
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'
import { NoteService } from '@core/services/notes'
import { supabase } from '@/adapters/supabaseClient'

const noteService = new NoteService(supabase)

export const useNotes = (userId: string) => {
  const queryClient = useQueryClient()
  
  const { data, isLoading } = useQuery({
    queryKey: ['notes', userId],
    queryFn: () => noteService.getNotes(userId),
  })
  
  const createMutation = useMutation({
    mutationFn: (note) => noteService.createNote({ ...note, userId }),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['notes', userId] })
    },
  })
  
  return {
    notes: data?.notes || [],
    isLoading,
    createNote: createMutation.mutate,
  }
}
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ TanStack Query –∫—ç—à–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ

---

### –ó–∞–¥–∞—á–∞ 4.2: –û—Ñ–ª–∞–π–Ω —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞:** 10 —á–∞—Å–æ–≤  
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å offlineSyncManager –∏–∑ core:**

```typescript
// hooks/useOfflineSync.ts
import { useEffect } from 'react'
import { AppState } from 'react-native'
import NetInfo from '@react-native-community/netinfo'
import { offlineSyncManager } from '@core/services/offlineSyncManager'

export const useOfflineSync = () => {
  useEffect(() => {
    // –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–µ—Ç–∏
    const unsubscribe = NetInfo.addEventListener((state) => {
      if (state.isConnected) {
        offlineSyncManager.processQueue()
      }
    })
    
    // –°–ª—É—à–∞–µ–º app state
    const subscription = AppState.addEventListener('change', (nextAppState) => {
      if (nextAppState === 'active') {
        offlineSyncManager.processQueue()
      }
    })
    
    return () => {
      unsubscribe()
      subscription.remove()
    }
  }, [])
}
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –û—Ñ–ª–∞–π–Ω —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å
- ‚úÖ –ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –æ—á–µ—Ä–µ–¥—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## –§–∞–∑–∞ 5: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏ (5 –¥–Ω–µ–π)

### –ó–∞–¥–∞—á–∞ 5.1: –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–û—Ü–µ–Ω–∫–∞:** 6 —á–∞—Å–æ–≤  

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SearchService –∏–∑ core**

---

### –ó–∞–¥–∞—á–∞ 5.2: –≠–∫—Å–ø–æ—Ä—Ç/–ò–º–ø–æ—Ä—Ç ENEX
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞:** 6 —á–∞—Å–æ–≤  

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ENEX —Å–µ—Ä–≤–∏—Å—ã –∏–∑ core + expo-file-system**

---

## –§–∞–∑–∞ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (7 –¥–Ω–µ–π)

### –ó–∞–¥–∞—á–∞ 6.1: Unit —Ç–µ—Å—Ç—ã
**–û—Ü–µ–Ω–∫–∞:** 10 —á–∞—Å–æ–≤  

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: 80%
- Hooks: 90%
- Utils: 100%

```typescript
// components/__tests__/Button.test.tsx
import { render, fireEvent } from '@testing-library/react-native'
import { Button } from '../ui/Button'

describe('Button', () => {
  it('–≤—ã–∑—ã–≤–∞–µ—Ç onPress –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏', () => {
    const onPress = jest.fn()
    const { getByText } = render(<Button onPress={onPress}>Test</Button>)
    fireEvent.press(getByText('Test'))
    expect(onPress).toHaveBeenCalled()
  })
})
```

---

## –§–∞–∑–∞ 7: –†–µ–ª–∏–∑ (10 –¥–Ω–µ–π)

### –ó–∞–¥–∞—á–∞ 7.1: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è bundle
- Tree shaking
- Code splitting
- Hermes engine

### –ó–∞–¥–∞—á–∞ 7.2: Beta testing
- TestFlight (iOS)
- Internal Testing (Android)

### –ó–∞–¥–∞—á–∞ 7.3: Production release
- App Store submission
- Google Play submission

---

## –†–∏—Å–∫–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ü–ª–∞–Ω –º–∏—Ç–∏–≥–∞—Ü–∏–∏ |
|------|-------------|---------|----------------|
| TipTap –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç | –í—ã—Å–æ–∫–∞—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å react-native-pell-rich-editor |
| OAuth —Å–ª–æ–∂–Ω—ã–π | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | –°–ª–µ–¥–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Supabase |
| App Store rejection | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–æ–µ | –°–ª–µ–¥–æ–≤–∞—Ç—å HIG, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–¥ submission |

---

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- ‚úÖ 100% core-—Å–ª–æ–π –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω
- ‚úÖ 80%+ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ –†–∞–∑–º–µ—Ä bundle < 50MB
- ‚úÖ Time to Interactive < 2s
- ‚úÖ Scroll FPS = 60

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [Requirements](../requirements/feature-mobile-app-react-native.md)
- [Design](../design/design-mobile-app.md)
