---
phase: requirements
title: Requirements & Problem Understanding
description: Clarify the problem space, gather requirements, and define success criteria
---

# Requirements & Problem Understanding

## Problem Statement
**What problem are we solving?**

- Удалять заметки по одной неудобно; нужен массовый выбор и удаление за один шаг.
- Все пользователи, особенно те, кто чистит старые/дубликатные заметки.
- Сейчас приходится удалять заметки поштучно или обходить через внешние инструменты.

## Goals & Objectives
**What do we want to achieve?**

- Primary goals: дать режим массового выбора заметок и удаление группы за одно действие с явным подтверждением.
- Secondary goals: возможность выбрать все/снять все, подсказка количества выбранных.
- Non-goals: восстановление удалённых заметок (recycle bin), настройка условий авто-удаления.

## User Stories & Use Cases
**How will users interact with the solution?**

- Как пользователь, я хочу включить режим выбора заметок, чтобы отметить сразу несколько заметок.
- Как пользователь, я хочу выбрать все заметки одним кликом и так же быстро снять выбор.
- Как пользователь, я хочу видеть, сколько заметок будет удалено, и подтверждать удаление вводом числа, чтобы избежать случайных удалений.
- Edge cases: пустой список, выбор в режиме FTS/фильтра по тегу, отмена удаления, переключение темы/экрана во время выбора.

## Success Criteria
**How will we know when we're done?**

- В сайдбаре есть кнопка «Select Notes», при включении в списке заметок появляются чекбоксы.
- Есть кнопки «Select all»/«Unselect all» в режиме выбора.
- Кнопка Delete появляется только при выбранных заметках; модал показывает число выбранных и требует ввести его для активации Delete.
- После подтверждения выбранные заметки удаляются, список обновлён, выбранное состояние сброшено.
- Нет регрессий в существующих операциях поиска/тегов/редактирования.

## Constraints & Assumptions
**What limitations do we need to work within?**

- Фронтенд/Next.js + Supabase; удаление — существующий API удаления заметок по id.
- Нужно учитывать мобильный режим (узкий сайдбар/дропдауны).
- Предполагаем отсутствие корзины: удаление без возможности восстановления.
- Не должны ломаться текущие тесты; добавим новые для выбора и удаления.

## Questions & Open Items
**What do we still need to clarify?**

- Нужно ли ограничить массовое удаление (например, максимум N за раз)?
- Требуется ли доп. сообщение для заметок с вложениями?
- Нужна ли локализация текста подтверждения или достаточно английского?
