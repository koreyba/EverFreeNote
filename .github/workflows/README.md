# GitHub Actions Workflows

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **3 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–∞–π–ø–ª–∞–π–Ω–∞**:

1. **Build** - —Å–æ–±–∏—Ä–∞–µ—Ç production –±–∏–ª–¥ (–≤—Ä—É—á–Ω—É—é)
2. **Component Tests** - —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–≤—Ä—É—á–Ω—É—é)
3. **E2E Tests** - —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–≤—Ä—É—á–Ω—É—é)

## üîÑ Workflows

### 1Ô∏è‚É£ `build.yml` - Build (–í—Ä—É—á–Ω—É—é)

**–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
- –¢–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ GitHub UI –∏–ª–∏ API

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`npm ci`)
- –°–æ–±–∏—Ä–∞–µ—Ç production –±–∏–ª–¥ (`npm run build`)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç `.next/` –∫–∞–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç
- **–í—Ä–µ–º—è:** ~1-2 –º–∏–Ω—É—Ç—ã

---

### 2Ô∏è‚É£ `component-tests.yml` - Component Tests (–í—Ä—É—á–Ω—É—é)

**–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
- –¢–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ GitHub UI –∏–ª–∏ API

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Button, Input, Card, –∏ —Ç.–¥.)
- **–ë–ï–ó –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** (–Ω–µ –Ω—É–∂–Ω–∞!)
- **–ë–ï–ó Next.js —Å–µ—Ä–≤–µ—Ä–∞** (–Ω–µ –Ω—É–∂–µ–Ω!)
- 60 —Ç–µ—Å—Ç–æ–≤
- **–í—Ä–µ–º—è:** ~30 —Å–µ–∫—É–Ω–¥ ‚ö°

---

### 3Ô∏è‚É£ `e2e.yml` - E2E Tests (–í—Ä—É—á–Ω—É—é)

**–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
- –¢–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ GitHub UI

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- **–° –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö** (Supabase)
- **–° Next.js —Å–µ—Ä–≤–µ—Ä–æ–º** (production)
- 7 —Ç–µ—Å—Ç–æ–≤ (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, CRUD, –ø–æ–∏—Å–∫)
- **–í—Ä–µ–º—è:** ~3-4 –º–∏–Ω—É—Ç—ã

## üéØ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞–π–ø–ª–∞–π–Ω—ã

–í—Å–µ 3 –ø–∞–π–ø–ª–∞–π–Ω–∞ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é**:

### –ß–µ—Ä–µ–∑ GitHub UI
1. –û—Ç–∫—Ä–æ–π –≤–∫–ª–∞–¥–∫—É **Actions** –≤ GitHub
2. –í—ã–±–µ—Ä–∏ –Ω—É–∂–Ω—ã–π workflow:
   - **Build** - —Å–æ–±—Ä–∞—Ç—å production –±–∏–ª–¥
   - **Component Tests** - –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - **E2E Tests** - –∑–∞–ø—É—Å—Ç–∏—Ç—å E2E —Ç–µ—Å—Ç—ã
3. –ù–∞–∂–º–∏ **"Run workflow"**
4. –í—ã–±–µ—Ä–∏ –≤–µ—Ç–∫—É –∏ –Ω–∞–∂–º–∏ –∑–µ–ª—ë–Ω—É—é –∫–Ω–æ–ø–∫—É **"Run workflow"**

### –ß–µ—Ä–µ–∑ GitHub CLI
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Build
gh workflow run build.yml --ref main

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Component Tests
gh workflow run component-tests.yml --ref main

# –ó–∞–ø—É—Å—Ç–∏—Ç—å E2E —Ç–µ—Å—Ç—ã
gh workflow run e2e.yml --ref main
```

## ‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –ü–∞–π–ø–ª–∞–π–Ω | –ó–∞–ø—É—Å–∫ | –í—Ä–µ–º—è | –¢–µ—Å—Ç—ã |
|----------|--------|-------|-------|
| Build | –í—Ä—É—á–Ω—É—é | ~1-2 –º–∏–Ω | - |
| Component Tests | –í—Ä—É—á–Ω—É—é | ~30 —Å–µ–∫ | 60 |
| E2E Tests | –í—Ä—É—á–Ω—É—é | ~3-4 –º–∏–Ω | 7 |

---

## üîß –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∫–∞–∂–¥–æ–º –ø–∞–π–ø–ª–∞–π–Ω–µ:

### 1Ô∏è‚É£ Build Pipeline
1. ‚úÖ Checkout –∫–æ–¥–∞
2. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 18
3. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`npm ci`)
4. ‚úÖ Production –±–∏–ª–¥ (`npm run build`)
5. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `.next/` –∫–∞–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç

### 2Ô∏è‚É£ Component Tests Pipeline
1. ‚úÖ Checkout –∫–æ–¥–∞
2. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 18
3. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`npm ci`)
4. ‚úÖ –ó–∞–ø—É—Å–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
5. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

**–ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ:**
- ‚ùå Supabase (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ë–î)
- ‚ùå Next.js —Å–µ—Ä–≤–µ—Ä (Cypress –º–æ–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞–ø—Ä—è–º—É—é)
- ‚ùå Production –±–∏–ª–¥ (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### 3Ô∏è‚É£ E2E Tests Pipeline (–≤—Ä—É—á–Ω—É—é)
1. ‚úÖ Checkout –∫–æ–¥–∞
2. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 18
3. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`npm ci`)
4. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Supabase CLI (`supabase/setup-cli@v1`)
5. ‚úÖ –ó–∞–ø—É—Å–∫ Supabase (–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π)
6. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
7. ‚úÖ –ó–∞–ø—É—Å–∫ Next.js dev —Å–µ—Ä–≤–µ—Ä–∞ (`npm run dev`)
8. ‚úÖ –ó–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–æ–≤
9. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ + –≤–∏–¥–µ–æ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
10. ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –í GitHub UI:
1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Actions**
2. –í—ã–±–µ—Ä–∏ workflow run
3. –ü–æ—Å–º–æ—Ç—Ä–∏ —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–≥–æ job
4. –°–∫–∞—á–∞–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (—Å–∫—Ä–∏–Ω—à–æ—Ç—ã/–≤–∏–¥–µ–æ) –µ—Å–ª–∏ —Ç–µ—Å—Ç—ã —É–ø–∞–ª–∏

### –ë–µ–π–¥–∂–∏ –≤ README:
```markdown
[![Build](https://github.com/YOUR_USERNAME/EverFreeNote/actions/workflows/build.yml/badge.svg)](https://github.com/YOUR_USERNAME/EverFreeNote/actions/workflows/build.yml)
[![Component Tests](https://github.com/YOUR_USERNAME/EverFreeNote/actions/workflows/component-tests.yml/badge.svg)](https://github.com/YOUR_USERNAME/EverFreeNote/actions/workflows/component-tests.yml)
[![E2E Tests](https://github.com/YOUR_USERNAME/EverFreeNote/actions/workflows/e2e.yml/badge.svg)](https://github.com/YOUR_USERNAME/EverFreeNote/actions/workflows/e2e.yml)
```


## üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è CI

–•–æ—á–µ—à—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±—É–¥–µ—Ç –≤ CI –ª–æ–∫–∞–ª—å–Ω–æ?

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏ Supabase
npm run db:start

# 2. –ó–∞–ø—É—Å—Ç–∏ Next.js
npm run dev

# 3. –ó–∞–ø—É—Å—Ç–∏ —Ç–µ—Å—Ç—ã
npm run test:component  # –∏–ª–∏
npm run test:e2e        # –∏–ª–∏
npm run test:all
```

## üêõ –û—Ç–ª–∞–¥–∫–∞ —É–ø–∞–≤—à–∏—Ö —Ç–µ—Å—Ç–æ–≤

1. **–°–∫–∞—á–∞–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**
   - Actions ‚Üí Failed run ‚Üí Artifacts ‚Üí Download

2. **–ü–æ—Å–º–æ—Ç—Ä–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã:**
   - `component-test-screenshots/` –∏–ª–∏
   - `e2e-test-screenshots/`

3. **–ü–æ—Å–º–æ—Ç—Ä–∏ –≤–∏–¥–µ–æ (—Ç–æ–ª—å–∫–æ E2E):**
   - `e2e-test-videos/`

4. **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–∏ –ª–æ–∫–∞–ª—å–Ω–æ:**
   ```bash
   npm run db:start
   npm run dev
   npx cypress run --spec "cypress/e2e/failing-test.cy.js"
   ```

## üí° –°–æ–≤–µ—Ç—ã

### –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ CI
```bash
npm run db:start
npm run dev
npm run test:e2e
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª—é–±–æ–π —Ç–µ—Å—Ç –≤ CI
1. GitHub ‚Üí Actions ‚Üí –≤—ã–±–µ—Ä–∏ –Ω—É–∂–Ω—ã–π workflow
2. Run workflow ‚Üí –≤—ã–±–µ—Ä–∏ —Å–≤–æ—é –≤–µ—Ç–∫—É
3. –î–æ–∂–¥–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã –≤ CI?
- ‚úÖ –ü–µ—Ä–µ–¥ –º–µ—Ä–∂–µ–º –≤ `main`
- ‚úÖ –ü–æ—Å–ª–µ –≤–∞–∂–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –ü–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
- ‚úÖ –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ —á–∏—Å—Ç–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
.github/
‚îî‚îÄ‚îÄ workflows/
    ‚îú‚îÄ‚îÄ build.yml              # Build –ø–∞–π–ø–ª–∞–π–Ω (–≤—Ä—É—á–Ω—É—é)
    ‚îú‚îÄ‚îÄ component-tests.yml    # Component Tests (–≤—Ä—É—á–Ω—É—é)
    ‚îú‚îÄ‚îÄ e2e.yml                # E2E Tests (–≤—Ä—É—á–Ω—É—é)
    ‚îî‚îÄ‚îÄ README.md              # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîê Secrets

–ü—Ä–æ–µ–∫—Ç –Ω–µ —Ç—Ä–µ–±—É–µ—Ç secrets –¥–ª—è CI, —Ç–∞–∫ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π Supabase.

–î–ª—è production –¥–µ–ø–ª–æ—è –¥–æ–±–∞–≤—å –≤ Settings ‚Üí Secrets:
- `SUPABASE_URL`
- `SUPABASE_ANON_KEY`

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- [GitHub Actions Documentation](https://docs.github.com/en/actions)
- [Cypress CI Documentation](https://docs.cypress.io/guides/continuous-integration/introduction)
- [Supabase CLI Documentation](https://supabase.com/docs/guides/cli)

